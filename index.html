---
layout: default
---

<div class="filter-bar">
    <button class="tab-button" data-filter="all" onclick="filterPosts('all')">All Posts</button>
    <button class="tab-button" data-filter="rigorous" onclick="filterPosts('rigorous')">Rigorous Posts</button>
    <button class="tab-button" data-filter="nonrigorous" onclick="filterPosts('nonrigorous')">Nonrigorous Posts</button>
</div>

<div id = "posts-container">
    {% assign has_post = false %}
    {% for post in site.posts %}
        {% if post.private == true %}
            {% continue %}
        {% endif %}
    
        <div class="post-card" type="{{ post.type }}">
            <a class="title" href="{{site.baseurl}}{{ post.url }}">
                {{ post.title }}
            </a>
            <script>
                console.log("{{ post.style.display }}")
            </script>
    
            <div class="details">
                <b>{{ post.date | date: "%d %B %Y" }}</b>
                <br>
                {% if post.tags %}
                    <b>[</b>
                    {% for tag in post.tags %}
                        <a href="{{ site.baseurl }}/tags/#{{ tag }}">{{ tag }}</a>{% if forloop.last == false %},{% endif %}
                    {% endfor %}
                    <b>]</b>
                {% endif %}
            </div>
    
            <div class="subtitle">
                {{ post.subtitle }}
            </div>
        </div>
        <hr class="post-separator">
        {% assign has_post = true %}
    {% endfor %}
    {% if has_post == false %}
        <div class="no-post">I've lost the ink pot. Check back later...</div>
    {% endif %}
</div>



<script>
function filterPosts(tag) {
    var posts = document.querySelectorAll('.post-card');
    var separators = document.querySelectorAll('.post-separator')
    // console.log(tag)
    console.log(posts.length);
    console.log(separators.length);
    posts.forEach(function(post, index) {
        // console.log(post.getAttributeNames());
        
        var postType = post.getAttribute('type');
        // console.log(postType)

        if (tag === 'all') {
            post.style.display = 'block';
            separators[index].style.display="block";
        }
        else if (tag === 'rigorous' && postType === 'r') {
            // console.log("RIGOROUS");
            post.style.display = 'block';
            separators[index].style.display="block";
        }
        else if (tag === 'nonrigorous' && postType === 'nr') {
            // console.log("NONRIGOROUS");
            post.style.display = 'block';
            separators[index].style.display="block";
        } else {
            post.style.display = 'none';
            separators[index].style.display="none";
        }
        console.log("Post:", post.querySelector('.title').innerText, "Display:", post.style.display);
    });

    changeBackground(tag);
}

function changeBackground(tag) {
    var body = document.body;
    if (tag === 'rigorous') {
        body.style.backgroundImage = "/assets/IMG_9414.jpg";  // Replace with your image path
    } else if (tag === 'nonrigorous') {
        body.style.backgroundImage = "/assets/IMG_9414.jpg";    // Replace with your image path
    }
}
</script>
    